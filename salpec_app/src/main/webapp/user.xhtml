<ui:composition template="/layout.xhtml"
     xmlns="http://www.w3.org/1999/xhtml"
     xmlns:f="http://java.sun.com/jsf/core"
     xmlns:h="http://java.sun.com/jsf/html"
     xmlns:ui="http://java.sun.com/jsf/facelets"
     xmlns:p="http://primefaces.org/ui"
>
   
<ui:define name="content">
 <h:head><title><h:outputText value="#{userMB.isLoggedIn() ? userMB.name : 'Index'}"/></title></h:head>
  	<h4 class="title ui-widget-header ui-corner-all fontSizeMain" style="min-width:360px;">Settings</h4>
    <h:form>      
		<table class="fontSizePage"> 
		     <tr>
		     	<td><h:outputLabel for="id" value="Id : " /></td>
		     	<td><h:outputLabel id="id" value="#{userMB.current.id}">
		     			<f:converter converterId="javax.faces.Integer"/>
		     		    <p:ajax event="blur" update="idMsg" />
		     		</h:outputLabel>
		     		<p:message id="idMsg" for="id" display="icon"/> 
		     	</td>
		     </tr>
		     <tr>
		     	<td><h:outputLabel for="name" value="Name : " /></td>
		     	<td><p:inputText id="name" value="#{userMB.current.name}">
		     			<f:validateLength minimum="5" /> 
		     			<p:ajax event="blur" update="nameMsg" />
		     		</p:inputText>
		     		<p:message id="nameMsg" for="name" display="icon"/> 
		     	</td>
		     </tr>
		     <tr>
		     	<td><h:outputLabel for="pass" value="Pass : " /></td>   
		     	<td><p:inputText id="pass" value="#{userMB.current.pass}"> 
		     			<f:validateLength minimum="5" /> 
		     			<p:ajax event="blur" update="passMsg" />  
		     		</p:inputText>
		     		<p:message id="passMsg" for="pass" display="icon"/> 
		     	</td>    
		     </tr> 
		     <tr>
		     	<td><h:outputLabel for="email" value="Email : " /></td>   
		     	<td><p:inputText id="email" value="#{userMB.current.email}"> 
		     			<f:validateLength minimum="5" /> 
		     			<p:ajax event="blur" update="emailMsg" />  
		     		</p:inputText>
		     		<p:message id="emailMsg" for="email" display="icon"/> 
		     	</td>    
		     </tr>              
	         <tr>
		     	<td><p:commandButton id="updateUser" value="Update" action="#{userMB.updateUser}" ajax="false"/></td>
		     	<td><p:commandButton id="reset" value="Reset" action="#{userMB.reset}" ajax="false"/></td>
		     </tr>   
	     </table>
     </h:form>     
<f:metadata>
	<f:event type="preRenderView" listener="#{userMB.checkAuthentication2}" />  
	<f:event type="preRenderView" listener="#{userMB.init}"/>
</f:metadata>
</ui:define>
</ui:composition>